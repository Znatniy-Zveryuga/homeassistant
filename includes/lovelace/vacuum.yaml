title: "Робот-Пылесос"
icon: "mdi:robot-vacuum"
cards:
  - type: vertical-stack
    cards:
      - type: custom:button-card
        name: "Статус"
        styles:
          card:
            - background-color: "#203040"

      - type: custom:vertical-stack-in-card
        cards:
          - type: entities
            show_header_toggle: false
            entities:
              - vacuum.xiaomi_vacuum_cleaner
              - input_boolean.vacuum_schedule
              - input_boolean.vacuum_notification

      - type: custom:xiaomi-vacuum-card
        entity: vacuum.xiaomi_vacuum_cleaner
        name: "Xiaomi Vacuum"
        buttons: true
        labels:
          status: "Состояние"
          battery: "Батарея"
          mode: "Режим"
          main_brush: "Главная щетка"
          side_brush: "Боковая щетка"
          filter: "Фильтр"
          sensor: "Сенсор"
          hours: "ч"



      - type: custom:button-card
        name: "Сброс Счетчиков"
        styles:
          card:
            - background-color: "#203040"

      - type: custom:vertical-stack-in-card
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                name: "Главная Щетка"
                icon: "mdi:autorenew"
                entity: script.vacuum_reset_main_brush
                tap_action:
                  confirmation: true
                  action: call-service
                  service: script.turn_on
                  service_data:
                    entity_id: script.vacuum_reset_main_brush
                size: 30%
                styles:
                  card:
                    - font-size: 14px

              - type: custom:button-card
                name: "Боковая Щетка"
                icon: "mdi:autorenew"
                entity: script.vacuum_reset_side_brush
                tap_action:
                  confirmation: true
                  action: call-service
                  service: script.turn_on
                  service_data:
                    entity_id: script.vacuum_reset_side_brush
                size: 30%
                styles:
                  card:
                    - font-size: 14px

              - type: custom:button-card
                name: "Фильтр"
                icon: "mdi:autorenew"
                entity: script.vacuum_reset_filter
                tap_action:
                  confirmation: true
                  action: call-service
                  service: script.turn_on
                  service_data:
                    entity_id: script.vacuum_reset_filter
                size: 30%
                styles:
                  card:
                    - font-size: 14px

              - type: custom:button-card
                name: "Сенсоры"
                icon: "mdi:autorenew"
                entity: script.vacuum_reset_sensor
                tap_action:
                  confirmation: true
                  action: call-service
                  service: script.turn_on
                  service_data:
                    entity_id: script.vacuum_reset_sensor
                size: 30%
                styles:
                  card:
                    - font-size: 14px

  - type: vertical-stack
    cards:
      - type: custom:button-card
        name: "Карта"
        styles:
          card:
            - background-color: "#203040"

      - type: custom:valetudo-map-card
        entity: sensor.xiaomi_map
        rotate: -1
        map_scale: 1.5
        crop:
          top: 70
          bottom: 30
          left: 80
          right: 0
        min_height: 0

#     - type: custom:xiaomi-vacuum-map-card
#       entity: vacuum.xiaomi_vacuum
#       map_image: '/local/img/vacuum_map.png'
#       calibration_points:
#         - vacuum:
#             x: 25500
#             y: 25500
#           map:
#             x: 466
#             y: 1889
#         - vacuum:
#             x: 26500
#             y: 26500
#           map:
#             x: 730
#             y: 1625
#         - vacuum:
#             x: 25500
#             y: 26500
#           map:
#             x: 466
#             y: 1625
#       zones:
#         - [[25500, 25500, 26500, 26500]]

  - type: vertical-stack
    cards:
      - type: custom:button-card
        name: "Зональная Уборка"
        styles:
          card:
            - background-color: "#203040"

      - type: entities
        #title: "Зональная Уборка"
        show_header_toggle: false
        entities:
          - input_select.vacuum_room


